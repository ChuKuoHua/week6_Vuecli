(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d280fd0"],{"159b":function(t,a,n){var e=n("da84"),i=n("fdbc"),o=n("17c2"),r=n("9112");for(var c in i){var s=e[c],u=s&&s.prototype;if(u&&u.forEach!==o)try{r(u,"forEach",o)}catch(l){u.forEach=o}}},"17c2":function(t,a,n){"use strict";var e=n("b727").forEach,i=n("a640"),o=n("ae40"),r=i("forEach"),c=o("forEach");t.exports=r&&c?[].forEach:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,a,n){var e=n("d039"),i=n("b622"),o=n("2d00"),r=i("species");t.exports=function(t){return o>=51||!e((function(){var a=[],n=a.constructor={};return n[r]=function(){return{foo:1}},1!==a[t](Boolean).foo}))}},4160:function(t,a,n){"use strict";var e=n("23e7"),i=n("17c2");e({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"65f0":function(t,a,n){var e=n("861d"),i=n("e8b5"),o=n("b622"),r=o("species");t.exports=function(t,a){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?e(n)&&(n=n[r],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===a?0:a)}},8418:function(t,a,n){"use strict";var e=n("c04e"),i=n("9bf2"),o=n("5c6c");t.exports=function(t,a,n){var r=e(a);r in t?i.f(t,r,o(0,n)):t[r]=n}},"99af":function(t,a,n){"use strict";var e=n("23e7"),i=n("d039"),o=n("e8b5"),r=n("861d"),c=n("7b0b"),s=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),p=n("2d00"),h=f("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",g=p>=51||!i((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),C=d("concat"),m=function(t){if(!r(t))return!1;var a=t[h];return void 0!==a?!!a:o(t)},y=!g||!C;e({target:"Array",proto:!0,forced:y},{concat:function(t){var a,n,e,i,o,r=c(this),d=l(r,0),f=0;for(a=-1,e=arguments.length;a<e;a++)if(o=-1===a?r:arguments[a],m(o)){if(i=s(o.length),f+i>v)throw TypeError(b);for(n=0;n<i;n++,f++)n in o&&u(d,f,o[n])}else{if(f>=v)throw TypeError(b);u(d,f++,o)}return d.length=f,d}})},a640:function(t,a,n){"use strict";var e=n("d039");t.exports=function(t,a){var n=[][t];return!!n&&e((function(){n.call(null,a||function(){throw 1},1)}))}},ae40:function(t,a,n){var e=n("83ab"),i=n("d039"),o=n("5135"),r=Object.defineProperty,c={},s=function(t){throw t};t.exports=function(t,a){if(o(c,t))return c[t];a||(a={});var n=[][t],u=!!o(a,"ACCESSORS")&&a.ACCESSORS,l=o(a,0)?a[0]:s,d=o(a,1)?a[1]:void 0;return c[t]=!!n&&!i((function(){if(u&&!e)return!0;var t={length:-1};u?r(t,1,{enumerable:!0,get:s}):t[1]=1,n.call(t,l,d)}))}},b727:function(t,a,n){var e=n("0366"),i=n("44ad"),o=n("7b0b"),r=n("50c4"),c=n("65f0"),s=[].push,u=function(t){var a=1==t,n=2==t,u=3==t,l=4==t,d=6==t,f=5==t||d;return function(p,h,v,b){for(var g,C,m=o(p),y=i(m),x=e(h,v,3),L=r(y.length),_=0,S=b||c,k=a?S(p,L):n?S(p,0):void 0;L>_;_++)if((f||_ in y)&&(g=y[_],C=x(g,_,m),t))if(a)k[_]=C;else if(C)switch(t){case 3:return!0;case 5:return g;case 6:return _;case 2:s.call(k,g)}else if(l)return!1;return d?-1:u||l?l:k}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c6f4:function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"container"},[n("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[n("i",{staticClass:"loading-box"})]),t.carts.length>0?n("div",[t._m(0),n("table",{staticClass:"cart-table"},[t._m(1),n("tbody",{staticClass:"border-y"},t._l(t.carts,(function(a){return n("tr",{key:a.product.id+1},[n("td",[n("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(n){return t.removeCartItem(a.product.id)}}},[n("font-awesome-icon",{attrs:{icon:["fa","trash"]}})],1)]),n("td",[t._v(" "+t._s(a.product.title)+" ")]),n("td",{staticClass:"produce-num-td"},[n("div",{staticClass:"produce-num-group d-flex"},[n("div",{staticClass:"num-btnbox"},[a.id===t.status.loadingItem?n("font-awesome-icon",{attrs:{icon:["fa","skull"],spin:""}}):t._e(),n("button",{staticClass:"less-btn",attrs:{disabled:1===a.quantity||t.status.loadingUpdateCart===a.product.id},on:{click:function(n){return t.quantityUpdata(a.product.id,a.quantity-1)}}},[t.status.loadingUpdateCart===a.product.id?n("font-awesome-icon",{attrs:{icon:["fa","skull"],spin:""}}):n("span",[t._v("-")])],1)],1),n("input",{staticClass:"form-control text-center numbox",attrs:{id:"inlineFormInputGroupUsername",type:"number"},domProps:{value:a.quantity},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.quantityUpdata(a.product.id,n.target.value)}}}),n("div",{staticClass:"num-btnbox"},[n("button",{staticClass:"add-btn",attrs:{disabled:5===a.quantity||t.status.loadingUpdateCart===a.product.id},on:{click:function(n){return t.quantityUpdata(a.product.id,a.quantity+1)}}},[t.status.loadingUpdateCart===a.product.id?n("font-awesome-icon",{attrs:{icon:["fa","skull"],spin:""}}):n("span",[t._v("+")])],1)])])]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(a.product.unit)+" ")]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(a.product.price)+" ")])])})),0),n("tfoot",[n("tr",[n("td",{staticClass:"text-right",attrs:{colspan:"4"}},[n("button",{staticClass:"btn btn-outline-danger btn-sm float-left",attrs:{type:"button"},on:{click:function(a){return t.removeAllCartItem()}}},[n("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:["fa","trash"]}}),t._v("刪除所有品項 ")],1),n("span",[t._v("總計")])]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(t.cartTotal)+" ")])])])]),n("div",{staticClass:"payment-box"},[n("router-link",{staticClass:"btn checkout-btn btn-block",attrs:{to:"/checkout"}},[t._v(" 結帳去 ")])],1)]):n("div",{staticClass:"no-shop"},[n("h4",[t._v("尚未選擇商品")])])],1)},i=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"mb-2 cart-flex"},[n("h4",[t._v("購物車")])])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("thead",[n("th",[t._v("刪除")]),n("th",[t._v("商品")]),n("th",{staticClass:"text-center",attrs:{width:"150px"}},[t._v(" 數量 ")]),n("th",{staticClass:"text-right"},[t._v("單位")]),n("th",{staticClass:"text-right"},[t._v("單價")])])}],o=(n("99af"),n("4160"),n("159b"),n("eebb")),r={name:"Cart",data:function(){return{isLoading:!1,carts:{},cartTotal:0,status:{loadingItem:"",loadingUpdateCart:""}}},created:function(){this.getCart()},methods:{getCart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api","/").concat("c7010afc-c576-4a2b-9f0e-5a42977d6066","/ec/shopping");this.$http.get(a).then((function(a){t.isLoading=!1,t.carts=a.data.data,t.updateTotal()})).catch((function(a){t.isLoading=!1,console.log(a)}))},updateTotal:function(){var t=0;this.carts.forEach((function(a){t+=a.product.price*a.quantity})),this.cartTotal=t},quantityUpdata:function(t,a){var n=this;this.status.loadingUpdateCart=t;var e="".concat("https://course-ec-api.hexschool.io/api","/").concat("c7010afc-c576-4a2b-9f0e-5a42977d6066","/ec/shopping"),i={product:t,quantity:a};this.$http.patch(e,i).then((function(){n.status.loadingUpdateCart="",n.getCart()})).catch((function(t){console.log(t)}))},removeCartItem:function(t){var a=this;this.isLoading=!0;var n="".concat("https://course-ec-api.hexschool.io/api","/").concat("c7010afc-c576-4a2b-9f0e-5a42977d6066","/ec/shopping/").concat(t);this.$http.delete(n).then((function(){a.isLoading=!1,a.getCart(),o["a"].fire({title:"商品已刪除",icon:"success"})})).catch((function(t){console.log(t),o["a"].fire({title:"商品刪除失敗",icon:"error"})}))},removeAllCartItem:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api","/").concat("c7010afc-c576-4a2b-9f0e-5a42977d6066","/ec/shopping/all/product");this.$http.delete(a).then((function(){t.isLoading=!1,t.getCart(),t.cartTotal=0,o["a"].fire({title:"商品已全部刪除",icon:"success"})})).catch((function(t){console.log(t),o["a"].fire({title:"商品刪除失敗",icon:"error"})}))}}},c=r,s=n("2877"),u=Object(s["a"])(c,e,i,!1,null,null,null);a["default"]=u.exports},e8b5:function(t,a,n){var e=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==e(t)}},eebb:function(t,a,n){"use strict";var e=n("3d20"),i=n.n(e);a["a"]=i.a.mixin({toast:!0,showConfirmButton:!1,timer:2e3,padding:"1em",position:"top-end"})},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-6d280fd0.9e3756ee.js.map